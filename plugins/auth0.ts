// // import { createAuth0 } from '@auth0/auth0-vue'

export default defineNuxtPlugin((nuxtApp) => {
  // const auth0 = createAuth0({
  //   domain: 'dev-nnsone8vo7ha5auo.us.auth0.com',
  //   clientId: 'ZV6xWH2O0TpMnaTg1HH15EPpn8Ml3mO9',
  //   authorizationParams: {
  //     redirect_uri: 'http://localhost:3002',
  //     audience: 'https://tp-auth-test.com'
  //   }
  // })

  // if (process.client) {
  //   // nuxtApp.vueApp.use(auth0)
  // }

  // addRouteMiddleware('auth', async (from, to) => {
    // if (process.client) {
      // debugger
      // console.log('from', from);
      // await auth0.checkSession()
      // if (!auth0.isAuthenticated.value) {
      //   // debugger
      //   // auth0.
      //   auth0.loginWithRedirect({
      //     appState: {
      //       target: useRoute().path
      //     }
      //   })
      // }
    // }
  // })
  // }, { global: true })
})
